## Practice 4: Pure Pursuit 기반 주행 알고리즘 실습

학습 일자 | 2025-10-11 (토)

### 1. 실습 주제
> 경로 추종(Path Tracking)을 위한 Pure Pursuit 알고리즘을 ROS2 환경에서 구현하고, Look-Ahead Distance(L 값)에 따른 주행 특성을 실험한다.
> 또한 곡률(Curvature)에 따라 속도를 자동 조절하는 동적 주행 기법을 학습한다.

### 2. 실습 목적
이번 실습의 목적은 자율주행 차량의 경로 추종 제어 핵심 알고리즘인 `Pure Pursuit`의 원리를 이해하고 직접 구현하는 것이다.
`Pure Pursuit`은 차량의 기하학적 모델을 기반으로, 차량이 현재 위치에서 경로 상 목표점(look-ahead point)을 향해 조향하는 방식으로 주행한다.
이를 통해 곡선 구간의 추종 능력, 직선 구간의 안정성, `Look-Ahead Distance(L 값)`의 영향을 실험적으로 분석하며, 고정 속도 주행과 곡률 기반 속도 조절 주행을 비교하여 효율적인 주행 제어 방법을 익힌다.

### 3. 실습 내용
1) Pure Pursuit 알고리즘 구현
- `/odom` 또는 `/pose` 토픽을 통해 차량의 현재 위치(x, y, yaw) 정보를 수신함.
- 미리 정의된 경로(waypoints) 중 차량의 진행 방향에 가장 가까운 목표점을 계산함.
- 목표점까지의 거리(`L = look-ahead distance`)와 차량의 방향각을 이용해 조향각 계산
- `α` : 차량 진행 방향과 목표 지점간의 각도​

<img width="321" height="51" alt="image" src="https://github.com/user-attachments/assets/9a66c670-d9e9-403e-a5ad-771a35a94d09" />

2) L 값 변화 실험
- `L=0.5m, 1.0m, 1.5m, 2.0m` 등 다양한 look-ahead 거리에서 주행 테스트 진행
- `L`이 작을수록 곡선 추종 성능이 향상되지만 진동이 심해지고, `L`이 클수록 주행이 부드러워지지만 반응성이 떨어짐

3) `Advanced`: 곡률 기반 속도 조절
- 경로의 곡률(Curvature, κ)을 계산하여 곡선 구간에서는 감속, 직선 구간에서는 가속하도록 설정
  
  <img width="191" height="51" alt="image" src="https://github.com/user-attachments/assets/aebd271c-f0b1-47ee-b84c-7e8c3eb68dd2" />
이를 통해 곡선 구간에서 차량의 안정성을 높이고, 전체 주행 효율성을 향상시킴

### 4. 실습 결과 및 분석
- L 값이 작을 때 (0.5m~1.0m): 경로 추종 정확도는 높지만 조향이 과도해져 차량이 진동하거나 불안정해짐
- L 값이 클 때 (1.5m~2.0m): 주행은 매우 부드러우나, 곡선 구간에서 외측으로 벗어나는 현상 발생
- 적정 L 값: 
- 곡률 기반 속도 조절 적용 후: 곡선 진입 시 과속으로 인한 미끄러짐 현상이 감소하고, 전체 주행 안정성 및 효율성이 개선됨

### 5. 학습 소감
이번 실습을 통해 기하학적 제어 기반 경로 추종 원리를 이해할 수 있었다. 단순히 PID 제어로 벽과의 거리를 유지하던 이전 실습과 달리, Pure Pursuit은 경로의 형상을 고려한 공간적 제어 알고리즘이라는 점이 인상적이었다.
특히 `Look-Ahead Distance(L)`의 변화가 차량의 반응성과 안정성에 직접적인 영향을 미친다는 것을 실험으로 확인하면서, 제어 파라미터의 물리적 의미를 구체적으로 체감할 수 있었다.
